### 9.13 晨测
- 谈一谈闭包
    闭包构成的条件：
        1.函数嵌套函数
        2.内部函数使用外部函数的变量
        3.外部函数调用
    什么是闭包：    
        1. 函数嵌套函数，内部的函数被称作为闭包
        2. 闭包是内部函数的scopes中 一个包含了引用外部函数变量的 一个closure对象
    闭包的作用：
        1. 延长了局部变量的生命周期
        2. 外部可以间接访问局部变量
    闭包的缺点：
        闭包内部的对象会长期占用内存空间，可能会导致内存泄漏
    解决闭包的缺点：
        1. 减少使用闭包
        2. 及时释放闭包


- 谈一谈执行上下文：
    1. js引擎的执行并不是直接一行行解析执行的，而是一段段的解析执行
    2. 在解析每段代码之前要做一些准备工作（开辟一块内存空间，创建变量对象，作用域链，确定this指向），这个准备工作被称作为执行上下文。
    3. js可以执行的代码段分为3种类型：全局代码，局部代码，eval代码（忽略）
    4. 每执行一段代码就会创建对应的执行上下文，程序中可能会创建多个执行上下文
    5. 每次执行js的时候，都会在内存中创建一个执行上下文栈，用来存放执行上下文
    6. js最开始执行的时候，先创建了全局执行上下文，并压入栈中，当页面关闭的时候，把它从栈中弹出
    7. 当进入函数的时候，会把局部执行上下文压入栈中，当函数执行完毕后弹出

- 谈一谈变量对象（VO）：
    - 变量对象是执行上下文中重要的属性之一
    - 变量对象存储了上下文中需要的变量和函数，只有变量对象被激活，里边的属性和方法才能被访问
    - 变量对象分为全局变量对象和局部的变量对象
    - 全局变量对象：保存的是全局的属性和方法，其实就是window对象
    - 局部的变量对象：保存的是当前执行上下文中所有的变量声明和函数声明和形参
        - 先在变量对象中创建形参和实参
        - 检查当前执行上下文中的函数声明，并以键值对的形式放在VO中,如果和形参冲突，则覆盖形参的值
        - 检查当前执行上下文中的变量声明，变量的值为undefined（执行到赋值代码以后，才会被赋值）并以键值对的形式放在VO中，如果和形参或函数冲突，则不会覆盖已经存在的值

- 谈一谈 作用域链：
    - 作用域链：保证对执行环境有权访问的所有变量和函数的有序访问
    - 作用域链是在函数定义的时候就已经产生了，但是并不完整,因为当前函数没有调用，所以当前函数的变量对象还没有产生
    - 当函数调用的时候，会创建当前上下文的变量对象，然后添加在已经生成的作用域链的开始位置，构成完整的作用域链
    - 作用域链的开始位置一定是当前的执行环境的变量对象，结束位置一定是window
    - 变量的解析是沿着作用域链搜索的过程，直到寻找到位置，如果一直找不到，则报错
        
    